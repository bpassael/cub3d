segfault on quit (ESC)

general function to free our structs (called on failed checks and at the end)

leaks

tidying up / splitting in files / norming